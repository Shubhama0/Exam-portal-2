{"ast":null,"code":"import _objectSpread from\"/Users/shubhamkumar/Desktop/shubhdev/MERN stack/examm/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/shubhamkumar/Desktop/shubhdev/MERN stack/examm/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useContext,createContext}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";var AuthContext=/*#__PURE__*/createContext();var AuthProvider=function AuthProvider(_ref){var children=_ref.children;var _useState=useState({user:\"abc\",token:\"\"}),_useState2=_slicedToArray(_useState,2),auth=_useState2[0],setAuth=_useState2[1];//default axios\naxios.defaults.headers.common[\"Authorization\"]=auth===null||auth===void 0?void 0:auth.token;useEffect(function(){var data=localStorage.getItem(\"auth\");if(data){var parseData=JSON.parse(data);setAuth(_objectSpread(_objectSpread({},auth),{},{user:parseData.user,token:parseData.token}));}//eslint-disable-next-line\n},[]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:[auth,setAuth],children:children});};// custom hook\nvar useAuth=function useAuth(){return useContext(AuthContext);};export{useAuth,AuthProvider};","map":{"version":3,"names":["useState","useEffect","useContext","createContext","axios","AuthContext","AuthProvider","children","user","token","auth","setAuth","defaults","headers","common","data","localStorage","getItem","parseData","JSON","parse","useAuth"],"sources":["/Users/shubhamkumar/Desktop/shubhdev/MERN stack/examm/client/src/Context/auth.js"],"sourcesContent":["import { useState, useEffect, useContext, createContext } from \"react\";\nimport axios from \"axios\";\n\nconst AuthContext = createContext();\nconst AuthProvider = ({ children }) => {\n  const [auth, setAuth] = useState({\n    user: \"abc\",\n    token: \"\",\n  });\n\n  //default axios\n  axios.defaults.headers.common[\"Authorization\"] = auth?.token;\n\n  useEffect(() => {\n    const data = localStorage.getItem(\"auth\");\n    if (data) {\n      const parseData = JSON.parse(data);\n      setAuth({\n        ...auth,\n        user: parseData.user,\n        token: parseData.token,\n      });\n    }\n    //eslint-disable-next-line\n  }, []);\n  return (\n    <AuthContext.Provider value={[auth, setAuth]}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\n// custom hook\nconst useAuth = () => useContext(AuthContext);\n\nexport { useAuth, AuthProvider };\n"],"mappings":"mSAAA,OAASA,QAAT,CAAmBC,SAAnB,CAA8BC,UAA9B,CAA0CC,aAA1C,KAA+D,OAA/D,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,2CAEA,GAAMC,YAAW,cAAGF,aAAa,EAAjC,CACA,GAAMG,aAAY,CAAG,QAAfA,aAAe,MAAkB,IAAfC,SAAe,MAAfA,QAAe,CACrC,cAAwBP,QAAQ,CAAC,CAC/BQ,IAAI,CAAE,KADyB,CAE/BC,KAAK,CAAE,EAFwB,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eAKA;AACAP,KAAK,CAACQ,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,EAAiDJ,IAAjD,SAAiDA,IAAjD,iBAAiDA,IAAI,CAAED,KAAvD,CAEAR,SAAS,CAAC,UAAM,CACd,GAAMc,KAAI,CAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAb,CACA,GAAIF,IAAJ,CAAU,CACR,GAAMG,UAAS,CAAGC,IAAI,CAACC,KAAL,CAAWL,IAAX,CAAlB,CACAJ,OAAO,gCACFD,IADE,MAELF,IAAI,CAAEU,SAAS,CAACV,IAFX,CAGLC,KAAK,CAAES,SAAS,CAACT,KAHZ,GAAP,CAKD,CACD;AACD,CAXQ,CAWN,EAXM,CAAT,CAYA,mBACE,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAACC,IAAD,CAAOC,OAAP,CAA7B,UACGJ,QADH,EADF,CAKD,CA1BD,CA4BA;AACA,GAAMc,QAAO,CAAG,QAAVA,QAAU,SAAMnB,WAAU,CAACG,WAAD,CAAhB,EAAhB,CAEA,OAASgB,OAAT,CAAkBf,YAAlB"},"metadata":{},"sourceType":"module"}